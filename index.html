<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>Piano Learn</title>

    <!-- Styles -->
    <link rel="stylesheet" href="Css/main.css">
    <link rel="stylesheet" href="Css/easer.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script type="text/javascript">
		$(document).ready(function() {
		$.get("https://api.npoint.io/ab82282a361045974b5c", function(data, status){
			console.log(JSON.stringify(data.songs[0]));
			/*APPEND START*/
				$.each(data.songs, function(indx, song) {   
					$('#mySongs')
					.append($("<option></option>")
					.attr("value", JSON.stringify(song.song_data))
					.text(song.song_name)); 
				});
			/*APPEND END*/
		});
		
		var timeDelay = 3000;
		$("#playButton").click(function(){
			var lyricsArray = JSON.parse($('#mySongs').val());
			$.each(lyricsArray, function(indx, lyrics) {
				setTimeout(function () {
					delay(lyrics);
				}, timeDelay);
				timeDelay += 3000;
			});
		});
		
		function delay(lyrics){
			console.log(JSON.stringify(lyrics));
			console.log(lyrics["Sr.No."]+","+lyrics["Type"]+","+lyrics["Note"]+","+lyrics["Channel"]+","+lyrics["Velocity"]+","+lyrics["Time"]);
			//websocket.send(lyrics["Sr.No."]+","+lyrics["Type"]+","+lyrics["Note"]+","+lyrics["Channel"]+","+lyrics["Velocity"]+","+lyrics["Time"]);
		};
	});	
  </script>
</head>
<body>
    <div class="nav easer-black-right" fix="True">
        <ul class="easer-black-right-ul">
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">Home</a></li>
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">About</a></li>
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">Contacts</a></li>
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">FAQ</a></li>
        </ul>
    </div>

    <div class="box-control">
        <select class="drop-file" id="mySongs">
        </select>
        <div class="slider">Slider for speed</div>
        <progress class="progressbar" max="100" value="40"></progress>
    </div>

    <div class="boxtwo">
        <div class="relative">
            <div class="line">
                <div class="top-line">
                    <div class="left">
                        <div class="play"><i class="fas fa-play" aria-hidden="true" id="playButton"></i></div>
                        <div class="continue"><i class="fas fa-redo" aria-hidden="true"></i></div>
                    </div>
                    <div class="left"><div class="switchBox" id="lAu"><div class="switch"></div></div>
                    <div class="leftAudiable">Left Audiable</div></div>
                    <div class="right"><div class="switchBox" id="rAu"><div class="switch"></div></div>
                    <div class="rightAudiable">Right Audiable</div></div>
                    <div class="left">
                        <div class="switchBox" id="lVi"><div class="switch"></div></div>
                        <div class="leftVisible">Left Visible</div>
                    </div>
                    <div class="right">
                        <div class="switchBox" id="rVi"><div class="switch"></div></div>
                        <div class="rightVisible">Right Visible</div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <div class="wrapperhung">
        <div class="lycint">
            Lyncsin 4 colums and 25 rows or auto font
        </div>
        <div class="currentLine">Current Line</div>
    </div>

    <div class="pianoImage"></div>

    <!-- Mobile menu -->
    <div class="menu">
        <div class="relative">
            <div class="name">Piano Learn</div>
            <div class="box-stick">
                <div class="relative">
                    <span id="sckone"></span>
                    <span id="scktwo"></span>
                    <span id="sckthree"></span>
                </div>
            </div>
        </div>
    </div>
    <div class="menuBox">
        <ul class="listElem">
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">Home</a></li>
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">About</a></li>
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">Contacts</a></li>
            <li class="easer-black-right-li"><a href="#" class="easer-black-right-a">FAQ</a></li>
        </ul>
    </div>

    <!-- jQuery 3x -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Connect JavaScript file -->
    <script src="Js/main.js"></script>
	<script src="script.js"></script>
    <!-- Framemork Easer.css
    | Github: https://github.com/MaksItKotik/Easer
    |----------------------->
    <script src="Js/easer.js"></script>
</body>
</html>